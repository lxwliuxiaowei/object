<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1，shrink-to-fit=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Title</title>

</head>
<body>
<div  id="top">
    <input  type="text" placeholder="搜索  菜 谱/食 材">
     <div  id="i-logo">
         <div  id="i_box">
             <image  class="i_img"  src="public/image/1_03.png"></image>
             <image  class="i_img" src="public/image/1_05.png"></image>
             <image  class="i_img"  src="public/image/1_07.png"></image>
             <image  class="i_img" src="public/image/1_09.png"></image>
         </div>
     </div>
    <div id="wrap">
        <ul class="list">
            <li><a href="javascript:;"><img src="public/image/2_03.png" alt="" /></a></li>
            <li><a href="javascript:;"><img src="public/image/3_03.png" alt="" /></a></li>
            <li><a href="javascript:;"><img src="public/image/4_03.png" alt="" /></a></li>
            <li><a href="javascript:;"><img src="public/image/5_03.png" alt="" /></a></li>
        </ul>
    </div>
    <div id="i-su">
        <p  class="i_su_p">每日推荐</p>
    </div>
    <div  id="list">
        <div  class="i_good">
            <image  class="i_good_image"src="public/image/good/1.png" ></image>
           <div   class="i_good_ins">
               <p  class="i_good_name">全麦椰蓉麦穗面包</p>
               <p  class="i_good_itr">这款全麦椰蓉麦穗面包，特意做成麦穗的形状，也因为面包团中添加了全麦粉，吃起来是慢慢的麦香</p>
               <image class="i_good_pht" src="public/image/good/2.png" ></image>
               <p  class="i_good_peo">幸福_朵朵</p>
           </div>
        </div>
        <div  class="i_good">
        <image  class="i_good_image"src="public/image/good/1.png" ></image>
        <div   class="i_good_ins">
            <p  class="i_good_name">全麦椰蓉麦穗面包</p>
            <p  class="i_good_itr">这款全麦椰蓉麦穗面包，特意做成麦穗的形状，也因为面包团中添加了全麦粉，吃起来是慢慢的麦香</p>
            <image class="i_good_pht" src="public/image/good/2.png" ></image>
            <p  class="i_good_peo">幸福_朵朵</p>
        </div>
    </div>
        <div  class="i_good">
            <image  class="i_good_image"src="public/image/good/1.png" ></image>
            <div   class="i_good_ins">
                <p  class="i_good_name">全麦椰蓉麦穗面包</p>
                <p  class="i_good_itr">这款全麦椰蓉麦穗面包，特意做成麦穗的形状，也因为面包团中添加了全麦粉，吃起来是慢慢的麦香</p>
                <image class="i_good_pht" src="public/image/good/2.png" ></image>
                <p  class="i_good_peo">幸福_朵朵</p>
            </div>
        </div>
    </div>
</div>
</body>
<link rel="stylesheet" href="index.css">

<script>
    (function (win,doc) {
        function change(){
            doc.documentElement.style.fontSize=20*doc.documentElement.clientWidth/375+'px';
        }
        change();
        win.addEventListener('resize',change,false)
    })(window,document);

    document.addEventListener("touchstart",function(event){
        event.preventDefault();
    });

    //加载完毕后执行以下的代码
    window.onload=function(){
        //获取元素
        var wrap=document.getElementById("wrap");
        var list=document.querySelector("#wrap .list");
        var liNodes=document.querySelectorAll("#wrap .list li");
        var spanNodes=document.querySelectorAll("#wrap .nav span");

        //布局的处理
        var style=document.createElement("style");
        style.innerHTML="#wrap{height: "+liNodes[0].offsetHeight +"px}";
        style.innerHTML+="#wrap .list{width: "+liNodes.length +"00%}";
        style.innerHTML+="#wrap .list li{width: "+100/liNodes.length+"%}";
        document.head.appendChild(style);

        //滑动
        //定义元素的初始位置
        var elemX=0;
        //定义手指的初始位置
        var startX=0;
        //定义鼠标距离差
        var dic=0;
        wrap.addEventListener("touchstart",function(event){
            var touch=event.changedTouches[0];
            //获取元素的初始位置
            elemX = list.offsetLeft;
            //获取手指的初始位置
            startX = touch.clientX;
        })
        wrap.addEventListener("touchmove",function(event){
            var touch=event.changedTouches[0];
            //获取手指的结束位置
            var endX=touch.clientX;
            //确定鼠标距离差
            dic=endX - startX;
            var left = elemX + dic;
            //确定手指最终的位置
            list.style.left = left + "px";
        });

        //滑动
        wrap.addEventListener("touchend",function(event){
            var touch=event.changedTouches[0];
            var now=0;
            var left=list.offsetLeft;

//			//以下 now=Math.round(-left/document.documentElement.clientWidth)
//			也可以用以下代码代替，这样限定值就可以不必只为0.5

//			now=-left/document.documentElement.clientWidth;
//			var num=now-Math.floor(now);
//			if(dic<0){
//				if(num>0.5){
//			    	now=Math.ceil(now);
//			    }else if(num<0.5){
//			    	now=Math.floor(now);
//			    }
//			}else if(dic>0){
//				if(num<0.5){
//					now=Math.floor(now);
//				}else if(num>0.5){
//					now=Math.ceil(now);
//				}
//			}


        })
    }

</script>
</html>